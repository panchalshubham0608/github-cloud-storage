<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ghcs</title><meta name="description" content="Documentation for ghcs"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ghcs</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>ghcs</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#ghcs" id="ghcs" style="color: inherit; text-decoration: none;">
  <h1>ghcs</h1>
</a>
<p><code>ghcs (github-cloud-storage)</code> provides a simple interface to read and write blobs to a GitHub repository. The blobs are stored in the repository as files. This library makes use of the GitHub API to read and write blobs.   </p>
<p>Here are the references to underlying GitHub API: </p>
<ul>
<li><a href="https://docs.github.com/en/rest/repos/contents#get-repository-content">https://docs.github.com/en/rest/repos/contents#get-repository-content</a></li>
<li><a href="https://docs.github.com/en/rest/repos/contents#create-or-update-file-contents">https://docs.github.com/en/rest/repos/contents#create-or-update-file-contents</a></li>
<li><a href="https://docs.github.com/en/rest/repos/contents#delete-a-file">https://docs.github.com/en/rest/repos/contents#delete-a-file</a></li>
</ul>

<a href="#installing" id="installing" style="color: inherit; text-decoration: none;">
  <h2>Installing</h2>
</a>
<pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">ghcs</span>
</code></pre>

<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
  <h2>Documentation</h2>
</a>
<p>A complete guide for this library can be found <a href="./docs/index.html">here</a></p>

<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
  <h2>Examples</h2>
</a>
<p>Here are a few examples that outlines the usage of the <code>ghcs</code> library.  </p>
<p><strong>Creating new client</strong><br>A new client can be created using the <code>ghcs.client.Client</code> class constructor. This constructor requires three properties:    </p>
<ol>
<li><code>owner</code> - the owner of the repository</li>
<li><code>repository</code> - the repository for which blobs are to be read/written  </li>
<li><code>token</code> - personal access token with <code>repo</code> scope</li>
</ol>
<pre><code class="language-js"><span class="hl-2">// create a new client</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ghcs</span><span class="hl-1">.</span><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-5">Client</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">owner:</span><span class="hl-1"> </span><span class="hl-6">&#39;panchalshubham0608&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">repository:</span><span class="hl-1"> </span><span class="hl-6">&#39;test-repo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">token:</span><span class="hl-1"> </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-0">env</span><span class="hl-1">.</span><span class="hl-4">GITHUB_TOKEN</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">// retrieve the name of the repository from the client</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-6">`Repository: </span><span class="hl-3">${</span><span class="hl-0">client</span><span class="hl-7">.</span><span class="hl-0">repository</span><span class="hl-3">}</span><span class="hl-6">`</span><span class="hl-1">);</span><br/><span class="hl-2">// retrieve the name of the owner from the client</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-6">`Owner: </span><span class="hl-3">${</span><span class="hl-0">client</span><span class="hl-7">.</span><span class="hl-0">owner</span><span class="hl-3">}</span><span class="hl-6">`</span><span class="hl-1">);</span>
</code></pre>
<p><strong>Reading  blobs:</strong><br>All the blob read operations are facilitated by <code>BlobReader</code> and you can get an instance of <code>BlobReader</code> by invoking the <code>NewBlobReader</code> method.  </p>
<pre><code class="language-js"><span class="hl-2">// get an instance of blob reader to facilitate blob reading</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">blobReader</span><span class="hl-1"> = </span><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-5">NewBlobReader</span><span class="hl-1">();</span>
</code></pre>
<p>To read content of a blob you can invoke the <code>GetContent</code> method. Note that this will throw an error of kind <code>ErrKindUnprocessableEntity</code> if the blob at given path is a directory. </p>
<pre><code class="language-js"><span class="hl-2">// read the content of the blob</span><br/><span class="hl-0">blobReader</span><span class="hl-1">.</span><span class="hl-5">GetContent</span><span class="hl-1">(</span><span class="hl-6">&#39;test.txt&#39;</span><span class="hl-1">).</span><span class="hl-5">then</span><span class="hl-1">(</span><span class="hl-0">blobContent</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-6">`Content of the blob: </span><span class="hl-3">${</span><span class="hl-0">blobContent</span><span class="hl-7">.</span><span class="hl-0">body</span><span class="hl-3">}</span><span class="hl-6">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-6">`Size of the blob: </span><span class="hl-3">${</span><span class="hl-0">blobContent</span><span class="hl-7">.</span><span class="hl-0">size</span><span class="hl-3">}</span><span class="hl-6">`</span><span class="hl-1">);</span><br/><span class="hl-1">}).</span><span class="hl-5">catch</span><span class="hl-1">(</span><span class="hl-0">err</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-0">err</span><span class="hl-1">);</span><br/><span class="hl-1">})</span>
</code></pre>
<p>In similar fashion you can get the metadata of the blob by invoking <code>GetMetadata(path)</code> provided that the blob at given path corresponds to a file.  The <code>ListBlobs(path)</code> method can be used to list the blobs at given path provided that the blob at given path is a directory.  </p>
<p><strong>Writing new blobs:</strong><br>All the blob writing/deletion operations are facilitated by <code>BlobWriter</code> and you can get an instance of a <code>BlobWriter</code> by invoking the <code>NewBlobWriter</code> method.  </p>
<pre><code class="language-js"><span class="hl-2">// get an instance of blob writer to facilitate writing to the repository</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">blobWriter</span><span class="hl-1"> = </span><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-5">NewBlobWriter</span><span class="hl-1">();</span>
</code></pre>
<p>To write content to a blob you can invoke <code>Write(path, content)</code> method which will write the content at given path and in response you get the details of commit created and the metadata of the newly created blob.<br>Here are a few things to keep in mind while writing blobs:  </p>
<ul>
<li>If there already exists a blob at given path then it will be overwritten.  </li>
<li>If there alredy exists a directory at given path then an error of type <code>ErrKindUnprocessableEntity</code>is thrown.</li>
</ul>
<pre><code class="language-js"><span class="hl-2">// write a file to the repository</span><br/><span class="hl-0">blobWriter</span><span class="hl-1">.</span><span class="hl-5">Write</span><span class="hl-1">(</span><span class="hl-6">&#39;test.txt&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Hello World!&#39;</span><span class="hl-1">).</span><span class="hl-5">then</span><span class="hl-1">(</span><span class="hl-0">resp</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">// response object will contain the commit details and metadata of the blob</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> [</span><span class="hl-4">commit</span><span class="hl-1">, </span><span class="hl-4">blobMetadata</span><span class="hl-1">] = </span><span class="hl-0">resp</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-6">`Commit: </span><span class="hl-3">${</span><span class="hl-0">commit</span><span class="hl-7">.</span><span class="hl-0">sha</span><span class="hl-3">}</span><span class="hl-6">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-6">`Blob: </span><span class="hl-3">${</span><span class="hl-0">blobMetadata</span><span class="hl-7">.</span><span class="hl-0">sha</span><span class="hl-3">}</span><span class="hl-6">`</span><span class="hl-1">);</span><br/><span class="hl-1">}).</span><span class="hl-5">catch</span><span class="hl-1">(</span><span class="hl-0">err</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-0">err</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h3>License</h3>
</a>
<p><a href="./LICENSE">MIT</a></p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">ghcs</a>
<ul>
<li class="tsd-kind-namespace"><a href="modules/blobReader.html">blob<wbr/>Reader</a></li>
<li class="tsd-kind-namespace"><a href="modules/blobWriter.html">blob<wbr/>Writer</a></li>
<li class="tsd-kind-namespace"><a href="modules/client.html">client</a></li>
<li class="tsd-kind-namespace"><a href="modules/errors.html">errors</a></li>
<li class="tsd-kind-namespace"><a href="modules/types.html">types</a></li></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky"></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>